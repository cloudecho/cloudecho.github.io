---
layout: post
status: publish
published: true
title: virtualbox 虚拟机克隆


date: '2016-03-02 13:59:42 +0800'
date_gmt: '2016-03-02 05:59:42 +0800'
categories:
- Util
tags:
- 虚拟机
comments: []
---
<p>Virtualbox虽然在图形界面下没有主机克隆的功能，但是在命令行下还是提供这个功能的，在virtualbox的安装目录下执行"VBoxManage clonevdi"命令。</p>
<p>Virtualbox克隆命令格式 </p>
<blockquote><p>VBoxManage clonevdi 原始VDI文件名 新的VDI文件名</p></blockquote>
<p>示例：<br />
$ VBoxManage clonevdi centos.vdi  centos3p.vdi<br />
0%...10%...20%...30%...40%...50%...60%...70%...80%...90%...100%<br />
Clone medium created in format 'VDI'. UUID: a108550f-c62a-4550-9a92-768036e2ea8b</p>
<p>执行完VBoxManage clonevdi 命令后会在Virtualbox的默认虚拟磁盘目录下生成一个新的vdi文件，新建一个虚拟机使用该虚拟磁盘就可以实现虚拟机的克隆。</p>
<p>摘自「http://www.liusuping.com/xunihua/virtualbox-guestos-clone.html」</p>
<p><strong>附：</strong></p>
<p>在克隆出来的CentOS Linux。<br />
ifconfig...没有看到eth0.。然后重启网卡又报下面错误。</p>
<p>故障现象： Device eth0 does not seem to be present,delaying initialization.                    [FAILED]</p>
<p>解决办法：</p>
<p>首先，打开/etc/udev/rules.d/70-persistent-net.rules内容如下面例子所示：</p>
<p># vi /etc/udev/rules.d/70-persistent-net.rules<br />
# This file was automatically generated by the /lib/udev/write_net_rules<br />
# program, run by the persistent-net-generator.rules rules file.<br />
#<br />
# You can modify it, as long as you keep each rule on a single<br />
# line, and change only the value of the NAME= key.<br />
# PCI device 0x1022:0x2000 (pcnet32)<br />
SUBSYSTEM=="net", ACTION=="add", DRIVERS=="?*", ATTR{address}=="00:0c:29:8f:89:9<br />
7", ATTR{type}=="1", KERNEL=="eth*", NAME="eth0"<br />
# PCI device 0x1022:0x2000 (pcnet32)<br />
SUBSYSTEM=="net", ACTION=="add", DRIVERS=="?*", ATTR{address}=="00:0c:29:50:bd:1<br />
7", ATTR{type}=="1", KERNEL=="eth*", NAME="eth1"</p>
<p>记录下，eth1网卡的mac地址00:0c:29:50:bd:17</p>
<p>接下来，<br />
# vi /etc/sysconfig/network-scripts/ifcfg-eth0</p>
<p>将 DEVICE="eth0"  改成  DEVICE="eth1"  ,<br />
将 HWADDR="00:0c:29:8f:89:97" 改成上面的mac地址  HWADDR="00:0c:29:50:bd:17"</p>
<p>最后，重启网络</p>
<p># service network restart<br />
或者<br />
# /etc/init.d/network restart</p>
<p>正常了。</p>
<p>摘自「http://www.linuxidc.com/Linux/2012-12/76248.htm」</p>
